{"ast":null,"code":"var _jsxFileName = \"G:\\\\projects\\\\fortress\\\\node_modules\\\\react-navigation-stack\\\\dist\\\\views\\\\Header\\\\Header.js\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport MaskedViewIOS from \"react-native-web/dist/exports/MaskedViewIOS\";\nimport { SafeAreaView, withOrientation } from 'react-navigation';\nimport HeaderTitle from \"./HeaderTitle\";\nimport HeaderBackButton from \"./HeaderBackButton\";\nimport ModularHeaderBackButton from \"./ModularHeaderBackButton\";\nimport HeaderStyleInterpolator from \"./HeaderStyleInterpolator\";\nvar APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nvar STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\nvar TITLE_OFFSET_CENTER_ALIGN = Platform.OS === 'ios' ? 70 : 56;\nvar TITLE_OFFSET_LEFT_ALIGN = Platform.OS === 'ios' ? 20 : 56;\n\nvar getTitleOffsets = (layoutPreset, forceBackTitle, hasLeftComponent, hasRightComponent) => {\n  if (layoutPreset === 'left') {\n    var style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN\n    };\n\n    if (!hasLeftComponent) {\n      style.left = 0;\n    }\n\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    var _style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN\n    };\n\n    if (!hasLeftComponent && !hasRightComponent) {\n      _style.left = 0;\n      _style.right = 0;\n    }\n\n    return _style;\n  }\n};\n\nvar getAppBarHeight = isLandscape => {\n  return Platform.OS === 'ios' ? isLandscape && !Platform.isPad ? 32 : 44 : 56;\n};\n\nclass Header extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      widths: {}\n    };\n\n    this._renderTitleComponent = props => {\n      var {\n        layoutPreset\n      } = this.props;\n      var {\n        options\n      } = props.scene.descriptor;\n      var headerTitle = options.headerTitle;\n\n      if (React.isValidElement(headerTitle)) {\n        return headerTitle;\n      }\n\n      var titleString = this._getHeaderTitleString(props.scene);\n\n      var titleStyle = options.headerTitleStyle;\n      var color = options.headerTintColor;\n      var allowFontScaling = options.headerTitleAllowFontScaling;\n      var onLayout = layoutPreset === 'center' ? e => {\n        this.setState({\n          widths: _objectSpread({}, this.state.widths, {\n            [props.scene.key]: e.nativeEvent.layout.width\n          })\n        });\n      } : undefined;\n      var HeaderTitleComponent = headerTitle && typeof headerTitle !== 'string' ? headerTitle : HeaderTitle;\n      return React.createElement(HeaderTitleComponent, {\n        onLayout: onLayout,\n        allowFontScaling: allowFontScaling == null ? true : allowFontScaling,\n        style: [color ? {\n          color\n        } : null, layoutPreset === 'center' ? {\n          textAlign: 'center'\n        } : {\n          textAlign: 'left'\n        }, titleStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        }\n      }, titleString);\n    };\n\n    this._renderLeftComponent = props => {\n      var {\n        options\n      } = props.scene.descriptor;\n\n      if (React.isValidElement(options.headerLeft) || options.headerLeft === null) {\n        return options.headerLeft;\n      }\n\n      if (!options.headerLeft && props.scene.index === 0) {\n        return;\n      }\n\n      var backButtonTitle = this._getBackButtonTitleString(props.scene);\n\n      var truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n\n      var width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n      var RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n\n      var goBack = () => {\n        requestAnimationFrame(() => {\n          props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n        });\n      };\n\n      return React.createElement(RenderedLeftComponent, {\n        onPress: goBack,\n        pressColorAndroid: options.headerPressColorAndroid,\n        tintColor: options.headerTintColor,\n        backImage: options.headerBackImage,\n        title: backButtonTitle,\n        truncatedTitle: truncatedBackButtonTitle,\n        backTitleVisible: this.props.backTitleVisible,\n        titleStyle: options.headerBackTitleStyle,\n        layoutPreset: this.props.layoutPreset,\n        width: width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        }\n      });\n    };\n\n    this._renderModularLeftComponent = (props, ButtonContainerComponent, LabelContainerComponent) => {\n      var {\n        options,\n        navigation\n      } = props.scene.descriptor;\n\n      var backButtonTitle = this._getBackButtonTitleString(props.scene);\n\n      var truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n\n      var width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n\n      var goBack = () => {\n        requestAnimationFrame(() => {\n          navigation.goBack(props.scene.descriptor.key);\n        });\n      };\n\n      return React.createElement(ModularHeaderBackButton, {\n        onPress: goBack,\n        ButtonContainerComponent: ButtonContainerComponent,\n        LabelContainerComponent: LabelContainerComponent,\n        pressColorAndroid: options.headerPressColorAndroid,\n        tintColor: options.headerTintColor,\n        backImage: options.headerBackImage,\n        title: backButtonTitle,\n        truncatedTitle: truncatedBackButtonTitle,\n        titleStyle: options.headerBackTitleStyle,\n        width: width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        }\n      });\n    };\n\n    this._renderRightComponent = props => {\n      var {\n        headerRight\n      } = props.scene.descriptor.options;\n      return headerRight || null;\n    };\n  }\n\n  static get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  }\n\n  _getHeaderTitleString(scene) {\n    var options = scene.descriptor.options;\n\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    if (options.title && typeof options.title !== 'string' && __DEV__) {\n      throw new Error(\"Invalid title for route \\\"\".concat(scene.route.routeName, \"\\\" - title must be string or null, instead it was of type \").concat(typeof options.title));\n    }\n\n    return options.title;\n  }\n\n  _getLastScene(scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  _getBackButtonTitleString(scene) {\n    var lastScene = this._getLastScene(scene);\n\n    if (!lastScene) {\n      return null;\n    }\n\n    var {\n      headerBackTitle\n    } = lastScene.descriptor.options;\n\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n\n    return this._getHeaderTitleString(lastScene);\n  }\n\n  _getTruncatedBackButtonTitle(scene) {\n    var lastScene = this._getLastScene(scene);\n\n    if (!lastScene) {\n      return null;\n    }\n\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  _renderLeft(props) {\n    var {\n      options\n    } = props.scene.descriptor;\n    var {\n      transitionPreset\n    } = this.props;\n    var {\n      style\n    } = props;\n\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    if (transitionPreset !== 'uikit' || options.headerBackImage || options.headerLeft || options.headerLeft === null) {\n      return this._renderSubView(_objectSpread({}, props, {\n        style\n      }), 'left', this._renderLeftComponent, this.props.leftInterpolator);\n    } else {\n      return this._renderModularSubView(_objectSpread({}, props, {\n        style\n      }), 'left', this._renderModularLeftComponent, this.props.leftLabelInterpolator, this.props.leftButtonInterpolator);\n    }\n  }\n\n  _renderTitle(props, options) {\n    var {\n      layoutPreset,\n      transitionPreset\n    } = this.props;\n    var style = [{\n      justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start'\n    }, getTitleOffsets(layoutPreset, false, options.hasLeftComponent, options.hasRightComponent), options.headerTitleContainerStyle];\n    return this._renderSubView(_objectSpread({}, props, {\n      style\n    }), 'title', this._renderTitleComponent, transitionPreset === 'uikit' ? this.props.titleFromLeftInterpolator : this.props.titleInterpolator);\n  }\n\n  _renderRight(props) {\n    var {\n      options\n    } = props.scene.descriptor;\n    var {\n      style\n    } = props;\n\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this._renderSubView(_objectSpread({}, props, {\n      style\n    }), 'right', this._renderRightComponent, this.props.rightInterpolator);\n  }\n\n  _renderBackground(props) {\n    var {\n      index,\n      descriptor: {\n        options\n      }\n    } = props.scene;\n    var offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      return null;\n    }\n\n    return this._renderSubView(_objectSpread({}, props, {\n      style: StyleSheet.absoluteFill\n    }), 'background', () => options.headerBackground, this.props.backgroundInterpolator);\n  }\n\n  _renderModularSubView(props, name, renderer, labelStyleInterpolator, buttonStyleInterpolator) {\n    var {\n      scene\n    } = props;\n    var {\n      index,\n      isStale,\n      key\n    } = scene;\n\n    if (index === 0) {\n      return;\n    }\n\n    var offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      return null;\n    }\n\n    var ButtonContainer = (_ref) => {\n      var {\n        children\n      } = _ref;\n      return React.createElement(Animated.View, {\n        style: [buttonStyleInterpolator(_objectSpread({}, this.props, {}, props))],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        }\n      }, children);\n    };\n\n    var LabelContainer = (_ref2) => {\n      var {\n        children\n      } = _ref2;\n      return React.createElement(Animated.View, {\n        style: [labelStyleInterpolator(_objectSpread({}, this.props, {}, props))],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        }\n      }, children);\n    };\n\n    var subView = renderer(props, ButtonContainer, LabelContainer);\n\n    if (subView === null) {\n      return subView;\n    }\n\n    var pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n    return React.createElement(View, {\n      key: \"\".concat(name, \"_\").concat(key),\n      pointerEvents: pointerEvents,\n      style: [styles.item, styles[name], props.style],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      }\n    }, subView);\n  }\n\n  _renderSubView(props, name, renderer, styleInterpolator) {\n    var {\n      scene\n    } = props;\n    var {\n      index,\n      isStale,\n      key\n    } = scene;\n    var offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      return null;\n    }\n\n    var subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    var pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n    return React.createElement(Animated.View, {\n      pointerEvents: pointerEvents,\n      key: \"\".concat(name, \"_\").concat(key),\n      style: [styles.item, styles[name], props.style, styleInterpolator(_objectSpread({}, this.props, {}, props))],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      }\n    }, subView);\n  }\n\n  _renderHeader(props) {\n    var {\n      options\n    } = props.scene.descriptor;\n\n    if (options.header === null) {\n      return null;\n    }\n\n    var left = this._renderLeft(props);\n\n    var right = this._renderRight(props);\n\n    var title = this._renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle\n    });\n\n    var {\n      transitionPreset\n    } = this.props;\n    var wrapperProps = {\n      style: styles.header,\n      key: \"scene_\".concat(props.scene.key)\n    };\n\n    if (options.headerLeft || options.headerBackImage || Platform.OS !== 'ios' || transitionPreset !== 'uikit') {\n      return React.createElement(View, _extends({}, wrapperProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        }\n      }), title, left, right);\n    } else {\n      return React.createElement(MaskedViewIOS, _extends({}, wrapperProps, {\n        maskElement: React.createElement(View, {\n          style: styles.iconMaskContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          }\n        }, React.createElement(Image, {\n          source: require(\"../assets/back-icon-mask.png\"),\n          style: styles.iconMask,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          }\n        }), React.createElement(View, {\n          style: styles.iconMaskFillerRect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          }\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        }\n      }), title, left, right);\n    }\n  }\n\n  render() {\n    var appBar;\n    var background;\n    var {\n      mode,\n      scene,\n      isLandscape\n    } = this.props;\n\n    if (mode === 'float') {\n      var scenesByIndex = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      var scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        progress: this.props.progress,\n        scene\n      }));\n      appBar = scenesProps.map(this._renderHeader, this);\n      background = scenesProps.map(this._renderBackground, this);\n    } else {\n      var headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        progress: new Animated.Value(0),\n        scene: this.props.scene\n      };\n      appBar = this._renderHeader(headerProps);\n      background = this._renderBackground(headerProps);\n    }\n\n    var {\n      options\n    } = scene.descriptor;\n    var {\n      headerStyle = {}\n    } = options;\n    var headerStyleObj = StyleSheet.flatten(headerStyle);\n    var appBarHeight = getAppBarHeight(isLandscape);\n\n    var {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      top,\n      right,\n      bottom,\n      left\n    } = headerStyleObj,\n        safeHeaderStyle = _objectWithoutProperties(headerStyleObj, [\"alignItems\", \"justifyContent\", \"flex\", \"flexDirection\", \"flexGrow\", \"flexShrink\", \"flexBasis\", \"flexWrap\", \"position\", \"padding\", \"paddingHorizontal\", \"paddingRight\", \"paddingLeft\", \"top\", \"right\", \"bottom\", \"left\"]);\n\n    if (__DEV__) {\n      warnIfHeaderStyleDefined(alignItems, 'alignItems');\n      warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n      warnIfHeaderStyleDefined(flex, 'flex');\n      warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n      warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n      warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n      warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n      warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n      warnIfHeaderStyleDefined(padding, 'padding');\n      warnIfHeaderStyleDefined(position, 'position');\n      warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n      warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n      warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n      warnIfHeaderStyleDefined(top, 'top');\n      warnIfHeaderStyleDefined(right, 'right');\n      warnIfHeaderStyleDefined(bottom, 'bottom');\n      warnIfHeaderStyleDefined(left, 'left');\n    }\n\n    var containerStyles = [options.headerTransparent ? styles.transparentContainer : styles.container, {\n      height: appBarHeight\n    }, safeHeaderStyle];\n    var {\n      headerForceInset\n    } = options;\n    var forceInset = headerForceInset || {\n      top: 'always',\n      bottom: 'never'\n    };\n    return React.createElement(Animated.View, {\n      style: [this.props.layoutInterpolator(this.props), Platform.OS === 'ios' && !options.headerTransparent ? {\n        backgroundColor: safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR\n      } : null],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      }\n    }, React.createElement(SafeAreaView, {\n      forceInset: forceInset,\n      style: containerStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      }\n    }, background, React.createElement(View, {\n      style: styles.flexOne,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      }\n    }, appBar)));\n  }\n\n}\n\nHeader.defaultProps = {\n  layoutInterpolator: HeaderStyleInterpolator.forLayout,\n  leftInterpolator: HeaderStyleInterpolator.forLeft,\n  leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n  leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n  titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n  titleInterpolator: HeaderStyleInterpolator.forCenter,\n  rightInterpolator: HeaderStyleInterpolator.forRight,\n  backgroundInterpolator: HeaderStyleInterpolator.forBackground\n};\n\nfunction warnIfHeaderStyleDefined(value, styleProp) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");\n  } else if (value !== undefined) {\n    console.warn(\"\".concat(styleProp, \" was given a value of \").concat(value, \", this has no effect on headerStyle.\"));\n  }\n}\n\nvar platformContainerStyles;\n\nif (Platform.OS === 'ios') {\n  platformContainerStyles = {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA'\n  };\n} else {\n  platformContainerStyles = {\n    shadowColor: 'black',\n    shadowOpacity: 0.1,\n    shadowRadius: StyleSheet.hairlineWidth,\n    shadowOffset: {\n      height: StyleSheet.hairlineWidth\n    },\n    elevation: 4\n  };\n}\n\nvar DEFAULT_BACKGROUND_COLOR = '#FFF';\nvar styles = StyleSheet.create({\n  container: _objectSpread({\n    backgroundColor: DEFAULT_BACKGROUND_COLOR\n  }, platformContainerStyles),\n  transparentContainer: _objectSpread({\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0\n  }, platformContainerStyles, {\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0\n  }),\n  header: _objectSpread({}, StyleSheet.absoluteFillObject, {\n    flexDirection: 'row'\n  }),\n  item: {\n    backgroundColor: 'transparent'\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -3\n  },\n  iconMask: {\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginTop: -0.5,\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{\n      scaleX: I18nManager.isRTL ? -1 : 1\n    }]\n  },\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  flexOne: {\n    flex: 1\n  }\n});\nexport default withOrientation(Header);","map":{"version":3,"sources":["G:/projects/fortress/node_modules/react-navigation-stack/dist/views/Header/Header.js"],"names":["React","SafeAreaView","withOrientation","HeaderTitle","HeaderBackButton","ModularHeaderBackButton","HeaderStyleInterpolator","APPBAR_HEIGHT","Platform","OS","STATUSBAR_HEIGHT","TITLE_OFFSET_CENTER_ALIGN","TITLE_OFFSET_LEFT_ALIGN","getTitleOffsets","layoutPreset","forceBackTitle","hasLeftComponent","hasRightComponent","style","left","right","getAppBarHeight","isLandscape","isPad","Header","PureComponent","state","widths","_renderTitleComponent","props","options","scene","descriptor","headerTitle","isValidElement","titleString","_getHeaderTitleString","titleStyle","headerTitleStyle","color","headerTintColor","allowFontScaling","headerTitleAllowFontScaling","onLayout","e","setState","key","nativeEvent","layout","width","undefined","HeaderTitleComponent","textAlign","_renderLeftComponent","headerLeft","index","backButtonTitle","_getBackButtonTitleString","truncatedBackButtonTitle","_getTruncatedBackButtonTitle","initWidth","RenderedLeftComponent","goBack","requestAnimationFrame","navigation","headerPressColorAndroid","headerBackImage","backTitleVisible","headerBackTitleStyle","_renderModularLeftComponent","ButtonContainerComponent","LabelContainerComponent","_renderRightComponent","headerRight","HEIGHT","title","__DEV__","Error","route","routeName","_getLastScene","scenes","find","s","lastScene","headerBackTitle","headerTruncatedBackTitle","_renderLeft","transitionPreset","headerLeftContainerStyle","_renderSubView","leftInterpolator","_renderModularSubView","leftLabelInterpolator","leftButtonInterpolator","_renderTitle","justifyContent","headerTitleContainerStyle","titleFromLeftInterpolator","titleInterpolator","_renderRight","headerRightContainerStyle","rightInterpolator","_renderBackground","offset","Math","abs","StyleSheet","absoluteFill","headerBackground","backgroundInterpolator","name","renderer","labelStyleInterpolator","buttonStyleInterpolator","isStale","ButtonContainer","children","LabelContainer","subView","pointerEvents","styles","item","styleInterpolator","_renderHeader","header","wrapperProps","iconMaskContainer","require","iconMask","iconMaskFillerRect","render","appBar","background","mode","scenesByIndex","forEach","scenesProps","Object","values","map","position","progress","headerProps","Animated","Value","headerStyle","headerStyleObj","flatten","appBarHeight","alignItems","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","padding","paddingHorizontal","paddingRight","paddingLeft","top","bottom","safeHeaderStyle","warnIfHeaderStyleDefined","containerStyles","headerTransparent","transparentContainer","container","height","headerForceInset","forceInset","layoutInterpolator","backgroundColor","DEFAULT_BACKGROUND_COLOR","flexOne","defaultProps","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackground","value","styleProp","console","warn","platformContainerStyles","borderBottomWidth","hairlineWidth","borderBottomColor","shadowColor","shadowOpacity","shadowRadius","shadowOffset","elevation","create","absoluteFillObject","marginLeft","marginTop","alignSelf","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { Animated, Image, Platform, StyleSheet, View, I18nManager, MaskedViewIOS } from 'react-native';\n\nimport { SafeAreaView, withOrientation } from 'react-navigation';\n\nimport HeaderTitle from './HeaderTitle';\nimport HeaderBackButton from './HeaderBackButton';\nimport ModularHeaderBackButton from './ModularHeaderBackButton';\nimport HeaderStyleInterpolator from './HeaderStyleInterpolator';\n\nconst APPBAR_HEIGHT = Platform.OS === 'ios' ? 44 : 56;\nconst STATUSBAR_HEIGHT = Platform.OS === 'ios' ? 20 : 0;\n\n// These can be adjusted by using headerTitleContainerStyle on navigationOptions\nconst TITLE_OFFSET_CENTER_ALIGN = Platform.OS === 'ios' ? 70 : 56;\nconst TITLE_OFFSET_LEFT_ALIGN = Platform.OS === 'ios' ? 20 : 56;\n\nconst getTitleOffsets = (layoutPreset, forceBackTitle, hasLeftComponent, hasRightComponent) => {\n  if (layoutPreset === 'left') {\n    // Maybe at some point we should do something different if the back title is\n    // explicitly enabled, for now people can control it manually\n\n    let style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN\n    };\n\n    if (!hasLeftComponent) {\n      style.left = 0;\n    }\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    let style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN\n    };\n    if (!hasLeftComponent && !hasRightComponent) {\n      style.left = 0;\n      style.right = 0;\n    }\n\n    return style;\n  }\n};\n\nconst getAppBarHeight = isLandscape => {\n  return Platform.OS === 'ios' ? isLandscape && !Platform.isPad ? 32 : 44 : 56;\n};\n\nclass Header extends React.PureComponent {\n  static get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  }\n\n  static defaultProps = {\n    layoutInterpolator: HeaderStyleInterpolator.forLayout,\n    leftInterpolator: HeaderStyleInterpolator.forLeft,\n    leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n    leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n    titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n    titleInterpolator: HeaderStyleInterpolator.forCenter,\n    rightInterpolator: HeaderStyleInterpolator.forRight,\n    backgroundInterpolator: HeaderStyleInterpolator.forBackground\n  };\n\n  state = {\n    widths: {}\n  };\n\n  _getHeaderTitleString(scene) {\n    const options = scene.descriptor.options;\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    if (options.title && typeof options.title !== 'string' && __DEV__) {\n      throw new Error(`Invalid title for route \"${scene.route.routeName}\" - title must be string or null, instead it was of type ${typeof options.title}`);\n    }\n\n    return options.title;\n  }\n\n  _getLastScene(scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  _getBackButtonTitleString(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    const { headerBackTitle } = lastScene.descriptor.options;\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n    return this._getHeaderTitleString(lastScene);\n  }\n\n  _getTruncatedBackButtonTitle(scene) {\n    const lastScene = this._getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  _renderTitleComponent = props => {\n    const { layoutPreset } = this.props;\n    const { options } = props.scene.descriptor;\n    const headerTitle = options.headerTitle;\n    if (React.isValidElement(headerTitle)) {\n      return headerTitle;\n    }\n    const titleString = this._getHeaderTitleString(props.scene);\n\n    const titleStyle = options.headerTitleStyle;\n    const color = options.headerTintColor;\n    const allowFontScaling = options.headerTitleAllowFontScaling;\n\n    // When title is centered, the width of left/right components depends on the\n    // calculated size of the title.\n    const onLayout = layoutPreset === 'center' ? e => {\n      this.setState({\n        widths: {\n          ...this.state.widths,\n          [props.scene.key]: e.nativeEvent.layout.width\n        }\n      });\n    } : undefined;\n\n    const HeaderTitleComponent = headerTitle && typeof headerTitle !== 'string' ? headerTitle : HeaderTitle;\n    return <HeaderTitleComponent onLayout={onLayout} allowFontScaling={allowFontScaling == null ? true : allowFontScaling} style={[color ? { color } : null, layoutPreset === 'center' ? { textAlign: 'center' } : { textAlign: 'left' }, titleStyle]}>\n        {titleString}\n      </HeaderTitleComponent>;\n  };\n\n  _renderLeftComponent = props => {\n    const { options } = props.scene.descriptor;\n    if (React.isValidElement(options.headerLeft) || options.headerLeft === null) {\n      return options.headerLeft;\n    }\n\n    if (!options.headerLeft && props.scene.index === 0) {\n      return;\n    }\n\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n    const RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n    return <RenderedLeftComponent onPress={goBack} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} backTitleVisible={this.props.backTitleVisible} titleStyle={options.headerBackTitleStyle} layoutPreset={this.props.layoutPreset} width={width} />;\n  };\n\n  _renderModularLeftComponent = (props, ButtonContainerComponent, LabelContainerComponent) => {\n    const { options, navigation } = props.scene.descriptor;\n    const backButtonTitle = this._getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this._getTruncatedBackButtonTitle(props.scene);\n    const width = this.state.widths[props.scene.key] ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2 : undefined;\n\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return <ModularHeaderBackButton onPress={goBack} ButtonContainerComponent={ButtonContainerComponent} LabelContainerComponent={LabelContainerComponent} pressColorAndroid={options.headerPressColorAndroid} tintColor={options.headerTintColor} backImage={options.headerBackImage} title={backButtonTitle} truncatedTitle={truncatedBackButtonTitle} titleStyle={options.headerBackTitleStyle} width={width} />;\n  };\n\n  _renderRightComponent = props => {\n    const { headerRight } = props.scene.descriptor.options;\n    return headerRight || null;\n  };\n\n  _renderLeft(props) {\n    const { options } = props.scene.descriptor;\n\n    const { transitionPreset } = this.props;\n\n    let { style } = props;\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    // On Android, or if we have a custom header left, or if we have a custom back image, we\n    // do not use the modular header (which is the one that imitates UINavigationController)\n    if (transitionPreset !== 'uikit' || options.headerBackImage || options.headerLeft || options.headerLeft === null) {\n      return this._renderSubView({ ...props, style }, 'left', this._renderLeftComponent, this.props.leftInterpolator);\n    } else {\n      return this._renderModularSubView({ ...props, style }, 'left', this._renderModularLeftComponent, this.props.leftLabelInterpolator, this.props.leftButtonInterpolator);\n    }\n  }\n\n  _renderTitle(props, options) {\n    const { layoutPreset, transitionPreset } = this.props;\n    let style = [{ justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start' }, getTitleOffsets(layoutPreset, false, options.hasLeftComponent, options.hasRightComponent), options.headerTitleContainerStyle];\n\n    return this._renderSubView({ ...props, style }, 'title', this._renderTitleComponent, transitionPreset === 'uikit' ? this.props.titleFromLeftInterpolator : this.props.titleInterpolator);\n  }\n\n  _renderRight(props) {\n    const { options } = props.scene.descriptor;\n\n    let { style } = props;\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this._renderSubView({ ...props, style }, 'right', this._renderRightComponent, this.props.rightInterpolator);\n  }\n\n  _renderBackground(props) {\n    const {\n      index,\n      descriptor: { options }\n    } = props.scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    return this._renderSubView({ ...props, style: StyleSheet.absoluteFill }, 'background', () => options.headerBackground, this.props.backgroundInterpolator);\n  }\n\n  _renderModularSubView(props, name, renderer, labelStyleInterpolator, buttonStyleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    // Never render a modular back button on the first screen in a stack.\n    if (index === 0) {\n      return;\n    }\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const ButtonContainer = ({ children }) => <Animated.View style={[buttonStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const LabelContainer = ({ children }) => <Animated.View style={[labelStyleInterpolator({ ...this.props, ...props })]}>\n        {children}\n      </Animated.View>;\n\n    const subView = renderer(props, ButtonContainer, LabelContainer);\n\n    if (subView === null) {\n      return subView;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <View key={`${name}_${key}`} pointerEvents={pointerEvents} style={[styles.item, styles[name], props.style]}>\n        {subView}\n      </View>;\n  }\n\n  _renderSubView(props, name, renderer, styleInterpolator) {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return <Animated.View pointerEvents={pointerEvents} key={`${name}_${key}`} style={[styles.item, styles[name], props.style, styleInterpolator({\n      ...this.props,\n      ...props\n    })]}>\n        {subView}\n      </Animated.View>;\n  }\n\n  _renderHeader(props) {\n    const { options } = props.scene.descriptor;\n    if (options.header === null) {\n      return null;\n    }\n    const left = this._renderLeft(props);\n    const right = this._renderRight(props);\n    const title = this._renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle\n    });\n\n    const { transitionPreset } = this.props;\n\n    const wrapperProps = {\n      style: styles.header,\n      key: `scene_${props.scene.key}`\n    };\n\n    if (options.headerLeft || options.headerBackImage || Platform.OS !== 'ios' || transitionPreset !== 'uikit') {\n      return <View {...wrapperProps}>\n          {title}\n          {left}\n          {right}\n        </View>;\n    } else {\n      return <MaskedViewIOS {...wrapperProps} maskElement={<View style={styles.iconMaskContainer}>\n              <Image source={require('../assets/back-icon-mask.png')} style={styles.iconMask} />\n              <View style={styles.iconMaskFillerRect} />\n            </View>}>\n          {title}\n          {left}\n          {right}\n        </MaskedViewIOS>;\n    }\n  }\n\n  render() {\n    let appBar;\n    let background;\n    const { mode, scene, isLandscape } = this.props;\n\n    if (mode === 'float') {\n      const scenesByIndex = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      const scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        progress: this.props.progress,\n        scene\n      }));\n      appBar = scenesProps.map(this._renderHeader, this);\n      background = scenesProps.map(this._renderBackground, this);\n    } else {\n      const headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        progress: new Animated.Value(0),\n        scene: this.props.scene\n      };\n\n      appBar = this._renderHeader(headerProps);\n      background = this._renderBackground(headerProps);\n    }\n\n    const { options } = scene.descriptor;\n    const { headerStyle = {} } = options;\n    const headerStyleObj = StyleSheet.flatten(headerStyle);\n    const appBarHeight = getAppBarHeight(isLandscape);\n\n    const {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      // paddingVertical,\n      // paddingTop,\n      // paddingBottom,\n      top,\n      right,\n      bottom,\n      left,\n      ...safeHeaderStyle\n    } = headerStyleObj;\n\n    if (__DEV__) {\n      warnIfHeaderStyleDefined(alignItems, 'alignItems');\n      warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n      warnIfHeaderStyleDefined(flex, 'flex');\n      warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n      warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n      warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n      warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n      warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n      warnIfHeaderStyleDefined(padding, 'padding');\n      warnIfHeaderStyleDefined(position, 'position');\n      warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n      warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n      warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n      // warnIfHeaderStyleDefined(paddingVertical, 'paddingVertical');\n      // warnIfHeaderStyleDefined(paddingTop, 'paddingTop');\n      // warnIfHeaderStyleDefined(paddingBottom, 'paddingBottom');\n      warnIfHeaderStyleDefined(top, 'top');\n      warnIfHeaderStyleDefined(right, 'right');\n      warnIfHeaderStyleDefined(bottom, 'bottom');\n      warnIfHeaderStyleDefined(left, 'left');\n    }\n\n    // TODO: warn if any unsafe styles are provided\n    const containerStyles = [options.headerTransparent ? styles.transparentContainer : styles.container, { height: appBarHeight }, safeHeaderStyle];\n\n    const { headerForceInset } = options;\n    const forceInset = headerForceInset || { top: 'always', bottom: 'never' };\n\n    return <Animated.View style={[this.props.layoutInterpolator(this.props), Platform.OS === 'ios' && !options.headerTransparent ? {\n      backgroundColor: safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR\n    } : null]}>\n        <SafeAreaView forceInset={forceInset} style={containerStyles}>\n          {background}\n          <View style={styles.flexOne}>{appBar}</View>\n        </SafeAreaView>\n      </Animated.View>;\n  }\n}\n\nfunction warnIfHeaderStyleDefined(value, styleProp) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\");\n  } else if (value !== undefined) {\n    console.warn(`${styleProp} was given a value of ${value}, this has no effect on headerStyle.`);\n  }\n}\n\nlet platformContainerStyles;\nif (Platform.OS === 'ios') {\n  platformContainerStyles = {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA'\n  };\n} else {\n  platformContainerStyles = {\n    shadowColor: 'black',\n    shadowOpacity: 0.1,\n    shadowRadius: StyleSheet.hairlineWidth,\n    shadowOffset: {\n      height: StyleSheet.hairlineWidth\n    },\n    elevation: 4\n  };\n}\n\nconst DEFAULT_BACKGROUND_COLOR = '#FFF';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: DEFAULT_BACKGROUND_COLOR,\n    ...platformContainerStyles\n  },\n  transparentContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    ...platformContainerStyles,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0\n  },\n  header: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: 'row'\n  },\n  item: {\n    backgroundColor: 'transparent'\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -3\n  },\n  iconMask: {\n    // These are mostly the same as the icon in ModularHeaderBackButton\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginTop: -0.5, // resizes down to 20.5\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  flexOne: {\n    flex: 1\n  }\n});\n\nexport default withOrientation(Header);"]},"metadata":{},"sourceType":"module"}